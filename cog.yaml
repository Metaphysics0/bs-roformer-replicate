build:
  gpu: true
  cuda: "12.1"
  python_version: "3.11"
  system_packages:
    - "ffmpeg"
    - "libsndfile1"
  python_packages:
    - "audio-separator[gpu]"
  run:
    # Pre-download BS-RoFormer model weights at build time
    - "mkdir -p /src/weights"
    - "audio-separator --model_filename model_bs_roformer_ep_317_sdr_12.9755.ckpt --model_file_dir /src/weights --download_model_only"
predict: "predict.py:Predictor"
